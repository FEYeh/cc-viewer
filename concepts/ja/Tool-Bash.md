# Bash

## 定義

シェルコマンドを実行します。オプションのタイムアウト設定に対応。作業ディレクトリはコマンド間で永続化されますが、シェル状態（環境変数など）は永続化されません。

## パラメータ

| パラメータ | 型 | 必須 | 説明 |
|------------|------|------|------|
| `command` | string | はい | 実行する bash コマンド |
| `description` | string | いいえ | コマンドの簡単な説明 |
| `timeout` | number | いいえ | タイムアウト（ミリ秒）、最大 600000、デフォルト 120000 |
| `run_in_background` | boolean | いいえ | バックグラウンドで実行するかどうか |

## 使用シナリオ

**適している場合：**
- git 操作（commit、push、branch など）
- npm/yarn などのパッケージ管理コマンド
- docker 操作
- コンパイル、ビルドコマンド
- ディレクトリ内容の一覧表示（`ls`）
- その他シェル実行が必要なシステムコマンド

**適していない場合：**
- ファイルの読み取り——Read を使用すべき
- ファイル名の検索——Glob を使用すべき
- ファイル内容の検索——Grep を使用すべき
- ファイルの編集——Edit を使用すべき
- ファイルの書き込み——Write を使用すべき
- ユーザーへの情報出力——レスポンステキストに直接出力
- 長時間実行プロセス（dev server、watch モード）——ユーザーに手動実行を推奨

## 注意事項

- スペースを含むパスはダブルクォートで囲む必要がある
- 出力が 30000 文字を超えると切り詰められる
- バックグラウンド実行のコマンドは TaskOutput で結果を取得
- できるだけ絶対パスを使用し、`cd` を避ける
- 独立したコマンドは複数の Bash を並列呼び出し可能
- 依存関係のあるコマンドは `&&` で連結
- シェル環境はユーザーの profile（bash または zsh）から初期化

## cc-viewer での意義

Bash 呼び出しはリクエストログで `tool_use`（コマンドを含む）と `tool_result`（出力を含む）の content block ペアとして表示されます。コマンド実行の出力はモデルの操作行動の分析に使用できます。
