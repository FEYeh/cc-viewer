# Edit

## 定義

精確な文字列置換によるファイル編集。ファイル内の `old_string` を `new_string` に置換します。

## パラメータ

| パラメータ | 型 | 必須 | 説明 |
|------------|------|------|------|
| `file_path` | string | はい | 変更するファイルの絶対パス |
| `old_string` | string | はい | 置換する元のテキスト |
| `new_string` | string | はい | 置換後の新しいテキスト（old_string と異なる必要がある） |
| `replace_all` | boolean | いいえ | すべてのマッチを置換するかどうか、デフォルト `false` |

## 使用シナリオ

**適している場合：**
- 既存ファイル内の特定のコードセクションを変更
- バグ修正、ロジックの更新
- 変数のリネーム（`replace_all: true` と併用）
- ファイル内容を精確に変更する必要があるすべてのシナリオ

**適していない場合：**
- 新規ファイルの作成——Write を使用すべき
- 大規模な書き換え——Write でファイル全体を上書きする必要がある場合

## 注意事項

- 使用前に必ず Read でそのファイルを読み取っておく必要がある。そうでないとエラーになる
- `old_string` はファイル内で一意でなければならない。一意でない場合は、より多くのコンテキストを含めて一意にするか、`replace_all` を使用する
- テキスト編集時は元のインデント（tab/スペース）を維持する必要がある。Read 出力の行番号プレフィックスを含めないこと
- 新規ファイル作成よりも既存ファイルの編集を優先
- `new_string` は `old_string` と異なる必要がある

## cc-viewer での意義

Edit 呼び出しはリクエストログで `tool_use` content block として表示され、その `input` に `old_string` と `new_string` が含まれます。モデルがファイルに対して行った変更を追跡するのに使用できます。
