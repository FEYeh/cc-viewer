# Bash

## التعريف

تنفيذ أوامر shell، مع دعم إعداد مهلة اختيارية. يستمر دليل العمل بين الأوامر، لكن حالة shell (متغيرات البيئة وغيرها) لا تستمر.

## المعاملات

| المعامل | النوع | مطلوب | الوصف |
|---------|-------|-------|-------|
| `command` | string | نعم | أمر bash المراد تنفيذه |
| `description` | string | لا | وصف مختصر للأمر |
| `timeout` | number | لا | مهلة (بالمللي ثانية)، الحد الأقصى 600000، الافتراضي 120000 |
| `run_in_background` | boolean | لا | هل يتم التشغيل في الخلفية |

## سيناريوهات الاستخدام

**مناسب للاستخدام:**
- عمليات git (commit، push، branch إلخ)
- أوامر إدارة الحزم مثل npm/yarn
- عمليات docker
- أوامر التجميع والبناء
- عرض محتويات الدليل (`ls`)
- أوامر النظام الأخرى التي تتطلب تنفيذ shell

**غير مناسب للاستخدام:**
- قراءة الملفات — يجب استخدام Read
- البحث عن أسماء الملفات — يجب استخدام Glob
- البحث في محتوى الملفات — يجب استخدام Grep
- تحرير الملفات — يجب استخدام Edit
- كتابة الملفات — يجب استخدام Write
- إخراج المعلومات للمستخدم — الإخراج مباشرة في نص الاستجابة
- العمليات طويلة التشغيل (dev server، وضع watch) — يُنصح بأن يشغلها المستخدم يدوياً

## ملاحظات

- المسارات التي تحتوي على مسافات يجب أن تُحاط بعلامات اقتباس مزدوجة
- المخرجات التي تتجاوز 30000 حرف يتم اقتطاعها
- نتائج الأوامر التي تعمل في الخلفية تُحصل عبر TaskOutput
- يُفضل استخدام المسارات المطلقة وتجنب `cd`
- الأوامر المستقلة يمكن استدعاء عدة Bash بالتوازي
- الأوامر ذات التبعيات تُربط بـ `&&`
- يتم تهيئة بيئة Shell من ملف profile الخاص بالمستخدم (bash أو zsh)

## الأهمية في cc-viewer

يظهر استدعاء Bash في سجل الطلبات كزوج من كتل محتوى `tool_use` (يحتوي على الأمر) و`tool_result` (يحتوي على المخرجات). يمكن استخدام مخرجات تنفيذ الأوامر لتحليل سلوك عمليات النموذج.
