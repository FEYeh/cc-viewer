# TaskUpdate

## Определение

Обновляет статус, содержимое или зависимости задачи в списке задач.

## Параметры

| Параметр | Тип | Обязательный | Описание |
|------|------|------|------|
| `taskId` | string | Да | ID задачи для обновления |
| `status` | enum | Нет | Новый статус: `pending` / `in_progress` / `completed` / `deleted` |
| `subject` | string | Нет | Новый заголовок |
| `description` | string | Нет | Новое описание |
| `activeForm` | string | Нет | Текст в настоящем продолженном времени, отображаемый во время выполнения |
| `owner` | string | Нет | Новый ответственный за задачу (имя агента) |
| `metadata` | object | Нет | Метаданные для слияния (установка в null удаляет ключ) |
| `addBlocks` | string[] | Нет | Список ID задач, заблокированных этой задачей |
| `addBlockedBy` | string[] | Нет | Список ID предшествующих задач, блокирующих эту задачу |

## Переход статусов

```
pending → in_progress → completed
```

`deleted` может быть установлен из любого статуса, безвозвратно удаляет задачу.

## Сценарии использования

**Подходящее применение:**
- Пометка задачи как `in_progress` при начале работы
- Пометка задачи как `completed` после завершения работы
- Установка зависимостей между задачами
- Обновление содержимого задачи при изменении требований

**Важные правила:**
- Помечайте как `completed` только при полном завершении задачи
- При ошибках или блокировках сохраняйте статус `in_progress`
- Не помечайте как `completed`, когда тесты не проходят, реализация неполная или возникли неразрешённые ошибки

## Примечания

- Перед обновлением следует получить актуальное состояние задачи через TaskGet, чтобы избежать устаревших данных
- После завершения задачи вызовите TaskList для поиска следующей доступной задачи

## Значение в cc-viewer

TaskUpdate — это внутренняя операция управления задачами, не порождающая независимого API-запроса.
