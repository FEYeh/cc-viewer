# AskUserQuestion

## Определение

Задаёт вопрос пользователю в процессе выполнения для получения уточнения, проверки предположений или запроса решения.

## Параметры

| Параметр | Тип | Обязательный | Описание |
|------|------|------|------|
| `questions` | array | Да | Список вопросов (1-4 вопроса) |
| `answers` | object | Нет | Собранные ответы пользователя |
| `annotations` | object | Нет | Аннотации к каждому вопросу (например, примечания к предпросмотру выбора) |
| `metadata` | object | Нет | Метаданные для отслеживания и анализа |

Каждый объект `question`:

| Поле | Тип | Обязательный | Описание |
|------|------|------|------|
| `question` | string | Да | Полный текст вопроса, должен заканчиваться вопросительным знаком |
| `header` | string | Да | Короткая метка (максимум 12 символов), отображается как чип метки |
| `options` | array | Да | 2-4 варианта |
| `multiSelect` | boolean | Да | Разрешён ли множественный выбор |

Каждый объект `option`:

| Поле | Тип | Обязательный | Описание |
|------|------|------|------|
| `label` | string | Да | Отображаемый текст варианта (1-5 слов) |
| `description` | string | Да | Описание варианта |
| `markdown` | string | Нет | Содержимое предпросмотра (для визуального сравнения ASCII-макетов, фрагментов кода и т.д.) |

## Сценарии использования

**Подходящее применение:**
- Сбор предпочтений или требований пользователя
- Уточнение неясных инструкций
- Получение решений в процессе реализации
- Предоставление пользователю выбора направления

**Неподходящее применение:**
- Вопрос «план подходит?» — следует использовать ExitPlanMode

## Примечания

- Пользователь всегда может выбрать "Other" и предоставить собственный ввод
- Рекомендуемый вариант должен быть первым, с "(Recommended)" в конце метки
- Предпросмотр `markdown` поддерживается только для вопросов с одиночным выбором
- Варианты с `markdown` переключаются на расположение бок о бок (лево-право)
- В режиме планирования используется для уточнения требований перед определением плана

## Значение в cc-viewer

Вызов AskUserQuestion в логах запросов отображается как блок content `tool_use`, содержащий определения вопросов и вариантов. Ответ пользователя появляется в истории сообщений последующих запросов.
