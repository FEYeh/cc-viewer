# EnterPlanMode

## 定義

將 Claude Code 切換到規劃模式，用於在實施前探索程式碼庫並設計方案。

## 參數

無參數。

## 使用場景

**適合使用：**
- 新功能實作——需要架構決策
- 存在多種可行方案——需要使用者選擇
- 程式碼修改影響現有行為或結構
- 多檔案變更——可能涉及 2-3 個以上檔案
- 需求不明確——需要先探索再理解範圍
- 使用者偏好很重要——實作可以有多種合理方向

**不適合使用：**
- 單行或少量行的修復（拼寫錯誤、明顯 bug）
- 使用者已給出非常具體的指令
- 純研究/探索任務——應使用 Task（Explore 類型）

## 規劃模式中的行為

進入規劃模式後，Claude Code 會：
1. 使用 Glob、Grep、Read 工具深入探索程式碼庫
2. 理解現有模式和架構
3. 設計實施方案
4. 將方案提交給使用者審批
5. 如需澄清可使用 AskUserQuestion
6. 方案就緒後透過 ExitPlanMode 退出

## 注意事項

- 此工具需要使用者同意才能進入規劃模式
- 如果不確定是否需要規劃，傾向於規劃——提前對齊比返工好

## 在 cc-viewer 中的意義

EnterPlanMode 呼叫在請求日誌中表現為 `tool_use` content block。進入規劃模式後的請求序列通常以探索性工具呼叫（Glob、Grep、Read）為主，直到 ExitPlanMode 被呼叫。
