# ExitPlanMode

## คำจำกัดความ

ออกจากโหมดวางแผนและส่งแผนให้ผู้ใช้อนุมัติ เนื้อหาแผนจะถูกอ่านจากไฟล์แผนที่เขียนไว้ก่อนหน้า

## พารามิเตอร์

| พารามิเตอร์ | ประเภท | จำเป็น | คำอธิบาย |
|------|------|------|------|
| `allowedPrompts` | array | ไม่ | รายการคำอธิบายสิทธิ์ที่จำเป็นสำหรับแผนการดำเนินงาน |

แต่ละองค์ประกอบในอาร์เรย์ `allowedPrompts`:

| ฟิลด์ | ประเภท | จำเป็น | คำอธิบาย |
|------|------|------|------|
| `tool` | enum | ใช่ | เครื่องมือที่ใช้ได้ ปัจจุบันรองรับเฉพาะ `Bash` |
| `prompt` | string | ใช่ | คำอธิบายเชิงความหมายของการดำเนินงาน (เช่น "run tests", "install dependencies") |

## สถานการณ์การใช้งาน

**เหมาะสำหรับ:**
- ในโหมดวางแผน เมื่อแผนเสร็จสมบูรณ์และพร้อมส่งให้ผู้ใช้อนุมัติ
- ใช้เฉพาะสำหรับงานดำเนินการที่ต้องเขียนโค้ด

**ไม่เหมาะสำหรับ:**
- งานวิจัย/สำรวจล้วนๆ — ไม่จำเป็นต้องออกจากโหมดวางแผน
- ต้องการถามผู้ใช้ว่า "แผนนี้โอเคไหม?" — นี่คือฟังก์ชันของเครื่องมือนี้เอง อย่าใช้ AskUserQuestion เพื่อถาม

## ข้อควรระวัง

- เครื่องมือนี้ไม่รับเนื้อหาแผนเป็นพารามิเตอร์ — มันอ่านจากไฟล์แผนที่เขียนไว้ก่อนหน้า
- ผู้ใช้จะเห็นเนื้อหาของไฟล์แผนเพื่ออนุมัติ
- อย่าใช้ AskUserQuestion ถามว่า "แผนโอเคไหม?" ก่อนเรียกเครื่องมือนี้ เพราะเป็นการซ้ำซ้อน
- อย่ากล่าวถึง "แผน" ในคำถาม เพราะผู้ใช้ไม่สามารถเห็นเนื้อหาแผนก่อน ExitPlanMode

## ความสำคัญใน cc-viewer

การเรียก ExitPlanMode เป็นเครื่องหมายสิ้นสุดขั้นตอนการวางแผน ในบันทึกคำร้องขอ คำร้องขอหลังจากการเรียกนี้มักจะเปลี่ยนเป็นการดำเนินงานเชิงปฏิบัติ (Edit, Write, Bash ฯลฯ)
