# Bash

## คำจำกัดความ

รันคำสั่ง shell รองรับการตั้งค่า timeout เสริม ไดเรกทอรีทำงานจะคงอยู่ระหว่างคำสั่ง แต่สถานะ shell (ตัวแปรสภาพแวดล้อม ฯลฯ) จะไม่คงอยู่

## พารามิเตอร์

| พารามิเตอร์ | ประเภท | จำเป็น | คำอธิบาย |
|------|------|------|------|
| `command` | string | ใช่ | คำสั่ง bash ที่จะรัน |
| `description` | string | ไม่ | คำอธิบายสั้นของคำสั่ง |
| `timeout` | number | ไม่ | เวลา timeout (มิลลิวินาที) สูงสุด 600000 ค่าเริ่มต้น 120000 |
| `run_in_background` | boolean | ไม่ | รันในเบื้องหลังหรือไม่ |

## สถานการณ์การใช้งาน

**เหมาะสำหรับ:**
- การดำเนินการ git (commit, push, branch ฯลฯ)
- คำสั่งจัดการแพ็กเกจ เช่น npm/yarn
- การดำเนินการ docker
- คำสั่งคอมไพล์และบิลด์
- แสดงรายการเนื้อหาไดเรกทอรี (`ls`)
- คำสั่งระบบอื่นๆ ที่ต้องการการรัน shell

**ไม่เหมาะสำหรับ:**
- อ่านไฟล์ — ควรใช้ Read
- ค้นหาชื่อไฟล์ — ควรใช้ Glob
- ค้นหาเนื้อหาไฟล์ — ควรใช้ Grep
- แก้ไขไฟล์ — ควรใช้ Edit
- เขียนไฟล์ — ควรใช้ Write
- แสดงข้อมูลให้ผู้ใช้ — แสดงโดยตรงในข้อความตอบกลับ
- กระบวนการที่ทำงานนาน (dev server, โหมด watch) — แนะนำให้ผู้ใช้รันเอง

## ข้อควรระวัง

- พาธที่มีช่องว่างต้องใส่เครื่องหมายคำพูดคู่
- ผลลัพธ์ที่เกิน 30000 ตัวอักษรจะถูกตัดทอน
- คำสั่งเบื้องหลังรับผลลัพธ์ผ่าน TaskOutput
- ควรใช้พาธแบบสัมบูรณ์ หลีกเลี่ยง `cd`
- คำสั่งอิสระสามารถเรียก Bash หลายตัวพร้อมกันได้
- คำสั่งที่มีการพึ่งพาควรเชื่อมด้วย `&&`
- สภาพแวดล้อม shell จะถูกเริ่มต้นจาก profile ของผู้ใช้ (bash หรือ zsh)

## ความสำคัญใน cc-viewer

การเรียก Bash ปรากฏในบันทึกคำร้องขอเป็นคู่ content block `tool_use` (มีคำสั่ง) และ `tool_result` (มีผลลัพธ์) ผลลัพธ์การรันคำสั่งสามารถใช้วิเคราะห์พฤติกรรมการดำเนินงานของโมเดลได้
