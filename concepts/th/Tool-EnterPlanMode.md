# EnterPlanMode

## คำจำกัดความ

สลับ Claude Code เข้าสู่โหมดวางแผน ใช้สำหรับสำรวจโค้ดเบสและออกแบบแผนก่อนการดำเนินงาน

## พารามิเตอร์

ไม่มีพารามิเตอร์

## สถานการณ์การใช้งาน

**เหมาะสำหรับ:**
- การพัฒนาฟีเจอร์ใหม่ — ต้องการการตัดสินใจด้านสถาปัตยกรรม
- มีหลายแนวทางที่เป็นไปได้ — ต้องการให้ผู้ใช้เลือก
- การแก้ไขโค้ดส่งผลต่อพฤติกรรมหรือโครงสร้างที่มีอยู่
- การเปลี่ยนแปลงหลายไฟล์ — อาจเกี่ยวข้องกับ 2-3 ไฟล์ขึ้นไป
- ข้อกำหนดไม่ชัดเจน — ต้องสำรวจก่อนเพื่อเข้าใจขอบเขต
- ความต้องการของผู้ใช้สำคัญ — การดำเนินงานอาจมีหลายทิศทางที่สมเหตุสมผล

**ไม่เหมาะสำหรับ:**
- การแก้ไขบรรทัดเดียวหรือไม่กี่บรรทัด (พิมพ์ผิด, บักที่ชัดเจน)
- ผู้ใช้ให้คำสั่งที่เฉพาะเจาะจงมากแล้ว
- งานวิจัย/สำรวจล้วนๆ — ควรใช้ Task (ประเภท Explore)

## พฤติกรรมในโหมดวางแผน

หลังจากเข้าสู่โหมดวางแผน Claude Code จะ:
1. ใช้เครื่องมือ Glob, Grep, Read เพื่อสำรวจโค้ดเบสอย่างลึกซึ้ง
2. ทำความเข้าใจรูปแบบและสถาปัตยกรรมที่มีอยู่
3. ออกแบบแผนการดำเนินงาน
4. ส่งแผนให้ผู้ใช้อนุมัติ
5. ใช้ AskUserQuestion หากต้องการคำชี้แจง
6. ออกผ่าน ExitPlanMode เมื่อแผนพร้อม

## ข้อควรระวัง

- เครื่องมือนี้ต้องได้รับความยินยอมจากผู้ใช้เพื่อเข้าสู่โหมดวางแผน
- หากไม่แน่ใจว่าต้องวางแผนหรือไม่ ให้เลือกวางแผน — การจัดแนวล่วงหน้าดีกว่าการทำงานซ้ำ

## ความสำคัญใน cc-viewer

การเรียก EnterPlanMode ปรากฏในบันทึกคำร้องขอเป็น content block `tool_use` หลังจากเข้าสู่โหมดวางแผน ลำดับคำร้องขอมักจะเป็นการเรียกเครื่องมือสำรวจ (Glob, Grep, Read) เป็นหลัก จนกว่า ExitPlanMode จะถูกเรียก
